<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        body,dl,dt,dd,p{margin:0;padding:0;}
        body{font-family:Tahoma;font-size:12px;}
        label,input,a{vertical-align:middle;}
        label{padding:0 10px 0 5px;}
        a{color:#09f;text-decoration:none;}
        a:hover{color:red;}
        dl{width:120px;margin:10px auto;padding:10px 5px;border:1px solid #666;border-radius:5px;background:#fafafa;}
        dt{padding-bottom:10px;border-bottom:1px solid #666;}
        dt label{font-weight:700;}
        p{margin-top:10px;}
    </style>
    <script>
        window.onload=function(){
            var oinput=document.getElementsByTagName("input");
            var oa=document.getElementsByTagName("a")[0];
            var op=document.getElementsByTagName("p");
            var olabel=document.getElementsByTagName("label")[0];
            function ischeckall(){
                for(var i= 1,n=0;i<oinput.length;i++){
                    oinput[i].checked&&n++;
                }
                oinput[0].checked=n==oinput.length-1;
                olabel.innerHTML=oinput[0].checked?"全不选":"全选";
            }
            oinput[0].onclick=function(){
                for(var i=1;i<oinput.length;i++){
                    oinput[i].checked=this.checked;
                }
                ischeckall();
            }
            oa.onclick=function(){
                for(var i=0;i<oinput.length;i++)
                {
                    oinput[i].checked=!oinput[i].checked;
                }
                ischeckall();
            }
            for(var i=1;i<oinput.length;i++){
                oinput[i].onclick=function(){
                    ischeckall();
                }
            }
        }
    </script>
</head>
<body>
<dl>
    <dt><input type="checkbox" id="checkAll" /><label>全选</label><a href="javascript:;">反选</a></dt>
    <dd>
        <p><label><input type="checkbox" name="item" />选项（一）</label></p>
        <p><label><input type="checkbox" name="item" />选项（二）</label></p>
        <p><label><input type="checkbox" name="item" />选项（三）</label></p>
        <p><label><input type="checkbox" name="item" />选项（四）</label></p>
        <p><label><input type="checkbox" name="item" />选项（五）</label></p>
        <p><label><input type="checkbox" name="item" />选项（六）</label></p>
        <p><label><input type="checkbox" name="item" />选项（七）</label></p>
        <p><label><input type="checkbox" name="item" />选项（八）</label></p>
        <p><label><input type="checkbox" name="item" />选项（九）</label></p>
        <p><label><input type="checkbox" name="item" />选项（十）</label></p>
    </dd>
</dl>
<p class="tc">1、切换全选/全不选文字；2、根据选中个数更新全选框状态；</p>
</body>
</html>
